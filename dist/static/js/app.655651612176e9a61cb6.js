webpackJsonp([1],{"099G":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=s("wtEF"),d=s("PJh5"),c=s.n(d),u=s("Y81h"),p=s.n(u),v={data:function(){return{productFormValid:!1,status:[{text:"On Hand",value:"On Hand"},{text:"Sold",value:"Sold"}],type:[{text:"Without Agent",value:0},{text:"With Agent",value:1}],gold_touches:[{text:"12",value:12},{text:"14",value:14},{text:"18",value:18}],original_categories:[],categories:[],original_terms:[],terms:[],original_customers:[],customers:[],original_agents:[],agents:[],original_suppliers:[],suppliers:[],original_shipments:[],shipments:[],product:{code:"",description:"",category_id:null,price:null},product_detail:{diamond_party:"",diamond_cost:0,diamond_size:0,diamond_weight:0,diamond_weight_price:0,gold_weight:0,gold_gross_weight:0,gold_touch:0,gold_cost:0,labor:0,manufacture_cost:0,manufacture_date:null},product_status:{status:null,seller:null,selling_price:0,customer_id:0,agent_id:null,commission:0,sold_date:0,term_id:null,paid:null},sold_date_menu:!1,sold_date:null,rules:{required:function(t){return!!t||"Required."}},dialog:{show_delete:!1,show_upload:!1},show_agent:!1,is_sold:!1,is_term:!1,isAdmin:!1,due_date:null,commission_rate:0,commission:0,balance:0,interest:0,payment_amount:0,imageName:"",imageUrl:"",product_image:"",image_count:0,is_image_add:!0,is_image_delete:!0,is_image_uploading:!1,delete_id:0}},computed:{priceFormatted:{get:function(){return this.formatAsCurrency(this.product.price,0)},set:function(t){this.product.price=Number(t.replace(/[^0-9\.]/g,""))}},manufactureCostFormatted:{get:function(){return this.formatAsCurrency(this.product_detail.manufacture_cost,0)},set:function(t){this.product_detail.manufacture_cost=Number(t.replace(/[^0-9\.]/g,""))}},laborFormatted:{get:function(){return this.formatAsCurrency(this.product_detail.labor,0)},set:function(t){this.product_detail.labor=Number(t.replace(/[^0-9\.]/g,""))}},diamondWeightPriceFormatted:{get:function(){return this.formatAsCurrency(this.product_detail.diamond_weight_price,0)},set:function(t){this.product_detail.diamond_weight_price=Number(t.replace(/[^0-9\.]/g,""))}},diamondCostFormatted:{get:function(){return this.formatAsCurrency(this.product_detail.diamond_cost,0)},set:function(t){this.product_detail.diamond_cost=Number(t.replace(/[^0-9\.]/g,""))}},goldCostFormatted:{get:function(){return this.formatAsCurrency(this.product_detail.gold_cost,0)},set:function(t){this.product_detail.gold_cost=Number(t.replace(/[^0-9\.]/g,""))}},soldPriceFormatted:{get:function(){return this.formatAsCurrency(this.product_status.selling_price,0)},set:function(t){this.product_status.selling_price=Number(t.replace(/[^0-9\.]/g,""))}},commissionFormatted:{get:function(){return this.formatAsCurrency(this.product_status.commission,0)},set:function(t){this.product_status.commission=Number(t.replace(/[^0-9\.]/g,""))}},paidFormatted:{get:function(){return this.formatAsCurrency(this.product_status.paid,0)},set:function(t){this.product_status.paid=Number(t.replace(/[^0-9\.]/g,""))}},balanceFormatted:{get:function(){return this.formatAsCurrency(this.balance,0)},set:function(t){this.balance=Number(t.replace(/[^0-9\.]/g,""))}},product_category:function(){return this.product.category_id},diamond_weight_price:function(){return this.product_detail.diamond_weight_price},diamond_weight:function(){return this.product_detail.diamond_weight},product_price:function(){return this.product_status.selling_price},product_sold_date:function(){return this.product_status.sold_date},payment_status:function(){return this.product_status.status},payment_term:function(){return this.product_status.term_id},payment_paid:function(){return this.product_status.paid},payment_type:function(){return this.product_status.type}},watch:{image_count:function(){this.image_count>=3?this.is_image_add=!1:this.is_image_add=!0,this.image_count<=1?this.is_image_delete=!1:this.is_image_delete=!0},sold_date:function(){this.product_status.sold_date=c()(this.sold_date).format("MMMM D, YYYY")},product_category:function(){setTimeout(function(){var t=this,e=this.original_categories.filter(function(e){return e.id===t.product.category_id})[0].commission_rate;1===this.product_status.type&&(e*=2),this.commission_rate=e}.bind(this),100)},payment_type:function(){setTimeout(function(){var t=this,e=this.original_categories.filter(function(e){return e.id===t.product.category_id})[0].commission_rate;if(1===this.product_status.type?(e*=2,this.show_agent=!0):(this.show_agent=!1,this.product_status.agent_id=null),this.commission_rate=e,this.commission_rate&&this.product_status.selling_price){this.product_status.commission=this.product_status.selling_price*(this.commission_rate/100);var s=this.original_terms.filter(function(e){return e.id===t.product_status.term_id}),a=s[0].days,i=this.product_status.selling_price/a;if(s[0].interest)i+=i*(s[0].interest/100);this.payment_amount=this.formatAsCurrency(i,0)}}.bind(this),100)},diamond_weight:function(){this.product_detail.diamond_cost=this.product_detail.diamond_weight*this.product_detail.diamond_weight_price},diamondWeightPriceFormatted:function(){this.product_detail.diamond_cost=this.product_detail.diamond_weight*this.product_detail.diamond_weight_price},product_price:function(){var t=this;if(this.commission_rate&&this.product_status.selling_price){this.product_status.commission=this.product_status.selling_price*(this.commission_rate/100);var e=this.original_terms.filter(function(e){return e.id===t.product_status.term_id}),s=e[0].days,a=this.product_status.selling_price/s;if(e[0].interest)a+=a*(e[0].interest/100);this.payment_amount=this.formatAsCurrency(a,0)}},payment_status:function(){"Sold"===this.product_status.status?this.is_sold=!0:this.is_sold=!1},payment_term:function(){setTimeout(function(){var t=this,e=this.original_terms.filter(function(e){return e.id===t.product_status.term_id});if(void 0!==e&&"Cash"!==e[0].name){this.interest=e[0].interest,this.is_term=!0;var s=e[0].days,a=this.product_status.selling_price/s;if(e[0].interest)a+=a*(e[0].interest/100);this.payment_amount=a.toFixed(2)}else this.is_term=!1}.bind(this),100)},payment_paid:function(){this.product_status.paid&&(this.balance=this.product_status.selling_price-this.product_status.paid)},product_sold_date:function(){setTimeout(function(){var t=this,e=this.original_terms.filter(function(e){return e.id===t.product_status.term_id});e[0]&&(this.due_date=c()(this.product_status.sold_date).add(e[0].years,"years").add(e[0].months,"months").add(e[0].days,"days").format("MMMM D, YYYY"))}.bind(this),100)}},methods:{return_product:function(){var t=this;return n()(i.a.mark(function e(){var s,a,r,l,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.a.start(),s={headers:{Authorization:t.$store.state.token}},!t.is_sold){e.next=9;break}return a=t.original_customers.filter(function(t){return t.id===this.product_status.customer_id&&t}.bind(t)),r={product_code:t.product.code,client_name:a[0].name},e.next=7,Object(o.a)().post("sales_returns",r,s).then(function(e){t.product_status.status="On Hand",t.update_product()});case 7:e.next=13;break;case 9:return l=t.original_suppliers.filter(function(t){return t.id===this.product.supplier_id&&t}.bind(t)),d={product_code:t.product.code,supplier_name:l[0].name},e.next=13,Object(o.a)().post("purchase_returns",d,s).then(function(){var e=n()(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)().delete("product/"+t.product.id,s).then(function(e){t.$router.push("/products")});case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}},e,t)}))()},formatAsCurrency:function(t,e){return e=e||0,null===t?0:t.toFixed(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},show_upload:function(t){this.dialog.show_upload=!0},show_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},upload_image:function(t){this.is_image_uploading=!0,this.add_product_image()},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,s=t.target.files;if(void 0!==s[0]){if(this.imageName=s[0].name,this.imageName.lastIndexOf(".")<=0)return;var a=new FileReader;a.readAsDataURL(s[0]),a.addEventListener("load",function(){e.imageUrl=a.result,e.product_image=s[0]})}else this.imageName="",this.product_image="",this.imageUrl=""},add_product_image:function(){var t=this;return n()(i.a.mark(function e(){var s,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.is_image_uploading=!0,p.a.start(),s={headers:{Authorization:t.$store.state.token,"Content-Type":"multipart/form-data"}},(a=new FormData).append("image",t.product_image),e.next=8,Object(o.a)().post("product/"+t.product.id+"/image",a,s).then(function(e){t.is_image_uploading=!1,t.dialog.show_upload=!1,t.get_product(),t.product_image="",t.imageName="",window.getApp.$emit("IMAGE_ADDED_SUCCESS")});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t.is_image_uploading=!1,window.getApp.$emit("IMAGE_ADDED_FAIL");case 14:case"end":return e.stop()}},e,t,[[0,10]])}))()},delete_image:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.a.start(),s={headers:{Authorization:t.$store.state.token}},e.next=5,Object(o.a)().delete("product/"+t.product.id+"/image/"+t.delete_id,s).then(function(e){t.get_product(),t.dialog.show_delete=!1,window.getApp.$emit("IMAGE_DELETED_SUCCESS")});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("IMAGE_DELETED_FAIL");case 11:case"end":return e.stop()}},e,t,[[0,7]])}))()},get_product:function(){var t=this;p.a.start();var e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product/"+this.$route.params.product_id,e).then(function(e){var s=e.data.data[0];t.product_detail=s.product_detail,delete s.product_detail,t.product_status=s.product_status,delete s.product_status,t.product_status.sold_date&&(t.product_status.sold_date=c()(t.product_status.sold_date).format("MMMM D, YYYY")),t.product=s,t.image_count=t.product.product_images.length,p.a.done()})},update_product:function(){var t=this;return n()(i.a.mark(function e(){var s,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!0,"Sold"===t.product_status.status&&(0!==t.product_status.customer_id&&0!==t.product_status.term_id&&null!==t.product_status.sold_date||(s=!1)),!s){e.next=13;break}return e.prev=3,p.a.start(),a={headers:{Authorization:t.$store.state.token}},e.next=8,Object(o.a)().put("product/"+t.$route.params.product_id,t.product,a).then(function(e){t.update_product_details()});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),window.getApp.$emit("PRODUCT_UPDATE_FAIL");case 13:case"end":return e.stop()}},e,t,[[3,10]])}))()},update_product_details:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("product_details/"+t.$route.params.product_id,t.product_detail,s).then(function(e){t.update_product_status()});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),window.getApp.$emit("PRODUCT_UPDATE_FAIL");case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},update_product_status:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("product_status/"+t.$route.params.product_id,t.product_status,s).then(function(e){t.get_product(),window.getApp.$emit("PRODUCT_UPDATE_SUCCESS")});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),window.getApp.$emit("PRODUCT_UPDATE_FAIL");case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_categories:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("category",e).then(function(e){t.original_categories=e.data.categories,e.data.categories.map(function(e){return t.categories.push({text:e.name,value:e.id}),!0})})},get_terms:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("term",e).then(function(e){t.original_terms=e.data.terms,e.data.terms.map(function(e){return t.terms.push({text:e.name,value:e.id}),!0})})},get_customers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("customer",e).then(function(e){t.original_customers=e.data.customers,e.data.customers.map(function(e){return t.customers.push({text:e.name,value:e.id}),!0})})},get_agents:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("agent",e).then(function(e){t.original_agents=e.data.agents,e.data.agents.map(function(e){return t.agents.push({text:e.name,value:e.id}),!0})})},get_suppliers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("supplier",e).then(function(e){t.original_suppliers=e.data.suppliers,e.data.suppliers.map(function(e){return t.suppliers.push({text:e.name,value:e.id}),!0})})},get_shipments:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("shipment",e).then(function(e){t.original_shipemnts=e.data.shipments,e.data.shipments.map(function(e){return t.shipments.push({text:e.code,value:e.id}),!0})})}},created:function(){0===l.a.state.user.level?this.isAdmin=!0:this.isAdmin=!1,this.get_product(),this.get_categories(),this.get_terms(),this.get_customers(),this.get_agents(),this.get_suppliers(),this.get_shipments()}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"productView"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{sm6:""}},[s("dd",[s("div",{staticClass:"display-3 grey--text text--darken-1"},[t._v(t._s(t.product.code))])]),t._v(" "),s("dd",[s("div",{staticClass:"body-1 grey--text text--darken-1"},[t._v(t._s(t.product.description))])]),t._v(" "),s("dd",[s("v-flex",[t.is_image_add?s("v-btn",{attrs:{color:"primary",right:""},on:{click:function(e){t.show_upload()}}},[t._v("\n              Upload Image\n              "),s("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1):t._e(),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_return=!1}},model:{value:t.dialog.show_return,callback:function(e){t.$set(t.dialog,"show_return",e)},expression:"dialog.show_return"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[s("v-icon",{attrs:{dark:""}},[t._v("autorenew")])],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Return Product")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[t.is_sold?s("p",[t._v("Are you sure you want to return the sold product?")]):s("p",[t._v("Are you sure you want to return the product to the supplier?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.return_product()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Return")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_return=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)]),t._v(" "),t._l(t.product.product_images,function(e,a){return s("v-flex",{key:a,attrs:{xs2:"",md2:"",lg2:""}},[s("v-card",{staticClass:"elevation-0 transparent"},[t.is_image_delete?s("v-btn",{attrs:{absolute:"",right:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.show_delete(e.id)}}},[s("v-icon",[t._v("clear")])],1):t._e(),t._v(" "),s("v-card-media",{attrs:{height:"150px",width:"150px"}},[s("img",{attrs:{src:e.url,alt:""}})])],1)],1)}),t._v(" "),s("v-flex",{attrs:{lg12:"",sm12:""}},[s("v-card",[s("v-form",{attrs:{method:"post",action:"#",id:"prodcutForm"},model:{value:t.productFormValid,callback:function(e){t.productFormValid=e},expression:"productFormValid"}},[s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs3:"",sm3:"",md3:"","offset-xs9":"","offset-sm9":"","offset-md9":""}},[s("v-select",{attrs:{"prepend-icon":"assignment",label:"Status",items:t.status,rules:[t.rules.required]},model:{value:t.product_status.status,callback:function(e){t.$set(t.product_status,"status",e)},expression:"product_status.status"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{prefix:"#",label:"Product Code",hint:"*Code of the Product",rules:[t.rules.required],clearable:""},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm3:"",md3:""}},[s("v-select",{attrs:{"prepend-icon":"local_offer",label:"Category",items:t.categories,rules:[t.rules.required]},model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm3:"",md3:""}},[s("v-select",{attrs:{"prepend-icon":"layers",label:"Supplier",items:t.suppliers,rules:[t.rules.required]},model:{value:t.product.supplier_id,callback:function(e){t.$set(t.product,"supplier_id",e)},expression:"product.supplier_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs2:"",sm3:"",md3:""}},[s("v-select",{attrs:{"prepend-icon":"local_shipping",label:"Shipment Code",items:t.shipments,rules:[t.rules.required]},model:{value:t.product.shipment_id,callback:function(e){t.$set(t.product,"shipment_id",e)},expression:"product.shipment_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-textarea",{attrs:{name:"description",label:"Description",hint:"*Description of the product",clearable:""},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"display-2 grey--text text--darken-1"},[t._v("Product Details")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Diamond Details")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{type:"number",label:"D Weight",hint:"Diamond Weight",suffix:"ct",rules:[t.rules.required],clearable:""},model:{value:t.product_detail.diamond_weight,callback:function(e){t.$set(t.product_detail,"diamond_weight",e)},expression:"product_detail.diamond_weight"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"D Price",hint:"Diamond Cost per Carat",prefix:"$",clearable:""},model:{value:t.diamondWeightPriceFormatted,callback:function(e){t.diamondWeightPriceFormatted=e},expression:"diamondWeightPriceFormatted"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"D Total Cost",hint:"Diamond Total Cost",prefix:"$",readonly:""},model:{value:t.diamondCostFormatted,callback:function(e){t.diamondCostFormatted=e},expression:"diamondCostFormatted"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"D Party",hint:"Diamond Party",clearable:""},model:{value:t.product_detail.diamond_party,callback:function(e){t.$set(t.product_detail,"diamond_party",e)},expression:"product_detail.diamond_party"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{type:"number",label:"D Size",hint:"Diamond Size",clearable:""},model:{value:t.product_detail.diamond_size,callback:function(e){t.$set(t.product_detail,"diamond_size",e)},expression:"product_detail.diamond_size"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Gold Details")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{type:"number",label:"G Weight",hint:"Gold Weight",suffix:"gm",rules:[t.rules.required],clearable:""},model:{value:t.product_detail.gold_weight,callback:function(e){t.$set(t.product_detail,"gold_weight",e)},expression:"product_detail.gold_weight"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[s("v-select",{attrs:{label:"Gold Touch",required:"",items:t.gold_touches,suffix:"K"},model:{value:t.product_detail.gold_touch,callback:function(e){t.$set(t.product_detail,"gold_touch",e)},expression:"product_detail.gold_touch"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{type:"number",label:"G Gross Weight",hint:"Gold Gross Weight",suffix:"gm",clearable:""},model:{value:t.product_detail.gold_gross_weight,callback:function(e){t.$set(t.product_detail,"gold_gross_weight",e)},expression:"product_detail.gold_gross_weight"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{type:"number",label:"G Net Weight",hint:"Gold Net Weight",suffix:"gm",clearable:""},model:{value:t.product_detail.gold_net_weight,callback:function(e){t.$set(t.product_detail,"gold_net_weight",e)},expression:"product_detail.gold_net_weight"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"G Cost",hint:"Gold Cost",prefix:"₱",clearable:""},model:{value:t.goldCostFormatted,callback:function(e){t.goldCostFormatted=e},expression:"goldCostFormatted"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Totals")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"Labor",hint:"Labor",prefix:"₱",clearable:""},model:{value:t.laborFormatted,callback:function(e){t.laborFormatted=e},expression:"laborFormatted"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[t.isAdmin?s("v-text-field",{attrs:{label:"Total Cost",hint:"Total Cost",prefix:"₱",clearable:""},model:{value:t.manufactureCostFormatted,callback:function(e){t.manufactureCostFormatted=e},expression:"manufactureCostFormatted"}}):t._e()],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[s("v-text-field",{attrs:{label:"SRP",hint:"Selling Price",prefix:"₱",clearable:""},model:{value:t.priceFormatted,callback:function(e){t.priceFormatted=e},expression:"priceFormatted"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"display-2 grey--text text--darken-1"},[t._v("Payment Details")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs3:"",sm3:"",md3:""}},[s("v-select",{attrs:{label:"Client",required:"",items:t.customers},model:{value:t.product_status.customer_id,callback:function(e){t.$set(t.product_status,"customer_id",e)},expression:"product_status.customer_id"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs3:"",sm3:"",md3:""}},[s("v-select",{attrs:{label:"Payment Type",required:"",items:t.type},model:{value:t.product_status.type,callback:function(e){t.$set(t.product_status,"type",e)},expression:"product_status.type"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.show_agent,expression:"is_sold && show_agent"}],attrs:{xs3:"",sm3:"",md3:""}},[s("v-select",{attrs:{label:"Agent",required:"",items:t.agents},model:{value:t.product_status.agent_id,callback:function(e){t.$set(t.product_status,"agent_id",e)},expression:"product_status.agent_id"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm12:"",md12:""}}),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs3:"",sm2:"",md2:""}},[s("v-select",{attrs:{label:"Term",required:"",items:t.terms},model:{value:t.product_status.term_id,callback:function(e){t.$set(t.product_status,"term_id",e)},expression:"product_status.term_id"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{label:"Sold Price",hint:"Sold Price",prefix:"₱"},model:{value:t.soldPriceFormatted,callback:function(e){t.soldPriceFormatted=e},expression:"soldPriceFormatted"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm1:"",md1:""}},[s("v-text-field",{attrs:{type:"number",label:"Rate",hint:"Rate",suffix:"%",readonly:""},model:{value:t.commission_rate,callback:function(e){t.commission_rate=e},expression:"commission_rate"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{label:"Commission",hint:"Commission",prefix:"₱",readonly:""},model:{value:t.commissionFormatted,callback:function(e){t.commissionFormatted=e},expression:"commissionFormatted"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold,expression:"is_sold"}],attrs:{xs12:"",sm3:"",lg3:""}},[s("v-menu",{ref:"statDate",staticClass:"pr-2",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-bottom":-22,"max-width":"290px","return-value":t.product_status.sold_date},on:{"update:returnValue":function(e){t.$set(t.product_status,"sold_date",e)}},model:{value:t.sold_date_menu,callback:function(e){t.sold_date_menu=e},expression:"sold_date_menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Sold Date","append-icon":"event",readonly:""},slot:"activator",model:{value:t.product_status.sold_date,callback:function(e){t.$set(t.product_status,"sold_date",e)},expression:"product_status.sold_date"}}),t._v(" "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.sold_date,callback:function(e){t.sold_date=e},expression:"sold_date"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.sold_date_menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.statDate.save(t.product_status.sold_date)}}},[t._v("OK")])],1)],1)],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm12:"",md12:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Term Details")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{label:"Paid",hint:"Paid",prefix:"₱"},model:{value:t.paidFormatted,callback:function(e){t.paidFormatted=e},expression:"paidFormatted"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{label:"Balance",hint:"Balance",prefix:"₱",readonly:""},model:{value:t.balanceFormatted,callback:function(e){t.balanceFormatted=e},expression:"balanceFormatted"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm1:"",md1:""}},[s("v-text-field",{attrs:{type:"number",label:"Interest",hint:"Interest",suffix:"%",readonly:""},model:{value:t.interest,callback:function(e){t.interest=e},expression:"interest"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{label:"Amount",hint:"Amount",prefix:"₱",readonly:""},model:{value:t.payment_amount,callback:function(e){t.payment_amount=e},expression:"payment_amount"}})],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.is_sold&&t.is_term,expression:"is_sold && is_term"}],attrs:{xs12:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{"append-icon":"event",label:"Due Date",hint:"Due Date",readonly:""},model:{value:t.due_date,callback:function(e){t.due_date=e},expression:"due_date"}})],1)],1)],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.productFormValid},on:{click:function(e){t.update_product()}}},[t._v("UPDATE")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Product")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the image?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_image()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog.show_upload,callback:function(e){t.$set(t.dialog,"show_upload",e)},expression:"dialog.show_upload"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Upload Image")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Select an image you want to upload?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,height:"150"}}):t._e(),t._v(" "),s("v-text-field",{attrs:{label:"Image","prepend-icon":"attach_file"},on:{click:t.pickFile},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),t._v(" "),s("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1)])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:t.is_image_uploading},on:{click:function(e){t.dialog.show_upload=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:t.is_image_uploading},on:{click:function(e){t.upload_image()}}},[t._v("Upload")])],1)],1)],1)],1)],2)],1)],1)},staticRenderFns:[]},m=s("VU/8")(v,_,!1,null,null,null);e.default=m.exports},"3DGr":function(t,e){},"5W1q":function(t,e){},"87tl":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("P9l9"),i=s("wtEF"),r=s("PJh5"),n=s.n(r),o={data:function(){return{moment:n.a,search:"",original_sales:[],original_expenses:[],current_month:"",sales:{selected:[],headers:[{text:"Code",value:"code"},{text:"Client",value:"client",align:"center"},{text:"Sold Date",value:"date",align:"center"},{text:"Commission",value:"commission",align:"center"},{text:"Amount",value:"amount",align:"right"}],items:[]},expenses:{selected:[],headers:[{text:"Name",value:"name"},{text:"Date",value:"date",align:"center"},{text:"Amount",value:"amount",align:"right"}],items:[]},total_expenses:0,total_commission:0,gross_income:0,net_income:0,start_date:null,start_date_menu:!1,end_date:null,end_date_menu:!1,filterFormValid:!1,isAdmin:!1,rules:{required:function(t){return!!t||"Required."}},dateMenu:!1,range:[n()().startOf("month").format("YYYY-MM-DD"),n()().format("YYYY-MM-DD")],dateRangeOptions:{startDate:n()().startOf("month").format("YYYY-MM-DD"),endDate:n()().format("YYYY-MM-DD"),format:"YYYY-MM-DD"}}},watch:{gross_income:function(){this.get_totals()},total_expenses:function(){this.get_totals()},range:function(){this.filter_report()}},methods:{onDateRangeChange:function(t){this.range=t},get_products:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(a.a)().get("product",e).then(function(e){var s=e.data.products;t.original_sales=s,t.sales.items=t.original_sales.filter(function(t){if("Sold"===t.product_status.status){var e=n()(t.product_status.sold_date);if(e.isBetween(this.range[0],this.range[1])||e.isSame(this.range[0])||e.isSame(this.range[1]))return this.gross_income=this.gross_income+t.product_status.selling_price,this.total_commission=this.total_commission+t.product_status.commission,t}return!1}.bind(t))})},get_expenses:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(a.a)().get("expense",e).then(function(e){var s=e.data.expenses;t.isAdmin||(s=e.data.expenses.filter(function(t){return 1===t.type})),t.original_expenses=s,t.expenses.items=t.original_expenses.filter(function(t){var e=n()(t.date);return!!(e.isBetween(this.range[0],this.range[1])||e.isSame(this.range[0])||e.isSame(this.range[1]))&&(this.total_expenses=this.total_expenses+t.amount,t)}.bind(t))})},get_totals:function(){this.net_income=this.gross_income-(this.total_expenses+this.total_commission)},filter_report:function(){this.gross_income=0,this.total_commission=0,this.total_expenses=0,this.sales.items=this.original_sales.filter(function(t){var e=n()(t.product_status.sold_date);return!!(e.isBetween(this.range[0],this.range[1])||e.isSame(this.range[0])||e.isSame(this.range[1]))&&(this.gross_income=this.gross_income+t.product_status.selling_price,this.total_commission=this.total_commission+t.product_status.commission,t)}.bind(this)),this.expenses.items=this.original_expenses.filter(function(t){var e=n()(t.date);return!!(e.isBetween(this.range[0],this.range[1])||e.isSame(this.range[0])||e.isSame(this.range[1]))&&(this.total_expenses=this.total_expenses+t.amount,t)}.bind(this))}},created:function(){0===i.a.state.user.level?this.isAdmin=!0:this.isAdmin=!1,this.current_month=n()().format("MMMM"),this.range[0]=n()().startOf("month").format("YYYY-MM-DD"),this.range[1]=n()().endOf("month").format("YYYY-MM-DD"),this.get_products(),this.get_expenses()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Report for the month of "+t._s(t.current_month))])])],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg4:""}},[s("div",{staticClass:"headline grey--text text--darken-1 filter_text"},[t._v("Filter Date:")]),t._v(" "),s("v-menu",{attrs:{"full-width":"","offset-y":"","close-on-content-click":!1,bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",outline:""},slot:"activator"},[t._v(t._s(t.range[0])+" — "+t._s(t.range[1]))]),t._v(" "),s("v-card",[s("v-card-text",[s("v-daterange",{attrs:{options:t.dateRangeOptions,"no-presets":!0},on:{input:t.onDateRangeChange}})],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Sales")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"headline green--text text--darken-1"},[t._v(t._s(t._f("currency")(t.gross_income)))]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.sales.headers,search:t.search,items:t.sales.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.product_status.seller))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(t.moment(e.item.product_status.sold_date).format("MMMM DD, YYYY")))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("currency")(e.item.product_status.commission)))]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v(t._s(t._f("currency")(e.item.product_status.selling_price)))])]}}])})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"headline grey--text text--darken-1"},[t._v("Expenses")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"headline red--text text--darken-1"},[t._v(t._s(t._f("currency")(t.total_expenses)))]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.expenses.headers,search:t.search,items:t.expenses.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[t._v(t._s(t.moment(e.item.date).format("MMMM DD, YYYY")))]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v(t._s(t._f("currency")(e.item.amount)))])]}}])})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 grey--text text--darken-1"},[t._v("Gross Income")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 grey--text text--darken-1"},[t._v(t._s(t._f("currency")(t.gross_income)))]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 grey--text text--darken-1"},[t._v("Expenses")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 red--text text--darken-1"},[t._v("- "+t._s(t._f("currency")(t.total_expenses)))]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 grey--text text--darken-1"},[t._v("Commission")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 red--text text--darken-1"},[t._v("- "+t._s(t._f("currency")(t.total_commission)))]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 grey--text text--darken-1"},[t._v("Net Income")]),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:"",sm6:"",md6:""}},[s("div",{staticClass:"display-1 green--text text--darken-1"},[t._v(t._s(t._f("currency")(t.net_income)))]),t._v(" "),s("v-divider")],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=s("VU/8")(o,l,!1,function(t){s("J6FI")},"data-v-6d6d15e1",null);e.default=d.exports},"A3Z+":function(t,e){},AKIF:function(t,e){},DIRN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("P9l9"),i=(s("wtEF"),s("Y81h"),s("PJh5")),r=s.n(i),n={data:function(){return{search:"",moment:r.a,selectedTab:null,purchase_returns:{headers:[{text:"Product Code",value:"product_code"},{text:"Supplier Name",value:"supplier_name"},{text:"Return Date",value:"return_date"}],items:[]},sales_returns:{headers:[{text:"Product Code",value:"product_code"},{text:"Client Name",value:"client_name"},{text:"Return Date",value:"return_date"}],items:[]}}},computed:{},created:function(){this.get_purchase_returns(),this.get_sales_returns()},methods:{get_purchase_returns:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(a.a)().get("purchase_returns",e).then(function(e){t.purchase_returns.items=e.data.purchase_returns})},get_sales_returns:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(a.a)().get("sales_returns",e).then(function(e){t.sales_returns.items=e.data.sales_returns})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"page-icons"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{12:""}},[s("v-tabs",{attrs:{color:"grey lighten-3"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[s("v-tab",{attrs:{ripple:"",href:"#tab-1"}},[t._v("\n            Purchase Returns\n          ")]),t._v(" "),s("v-tab",{attrs:{ripple:"",href:"#tab-2"}},[t._v("\n            Sales Returns\n          ")]),t._v(" "),s("v-tabs-items",{model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[s("v-tab-item",{attrs:{id:"tab-1"}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.purchase_returns.headers,search:t.search,items:t.purchase_returns.items,"rows-per-page-items":[5],"item-key":"name","disable-page-reset":!0},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.product_code))]),t._v(" "),s("td",[t._v(t._s(e.item.supplier_name))]),t._v(" "),s("td",[t._v(t._s(t.moment(e.item.return_date).format("MMMM DD, YYYY")))])]}}])})],1)],1)],1),t._v(" "),s("v-tab-item",{attrs:{id:"tab-2"}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.sales_returns.headers,search:t.search,items:t.sales_returns.items,"rows-per-page-items":[5],"item-key":"name","disable-page-reset":!0},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.product_code))]),t._v(" "),s("td",[t._v(t._s(e.item.client_name))]),t._v(" "),s("td",[t._v(t._s(t.moment(e.item.return_date).format("MMMM DD, YYYY")))])]}}])})],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},l=s("VU/8")(n,o,!1,null,null,null);e.default=l.exports},J6FI:function(t,e){},JIyO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l={data:function(){return{search:"",categories:{selected:[],headers:[{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Rate",value:"commission_rate"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1},category:{name:"",description:""},rules:{required:function(t){return!!t||"Required."}},categoryFormValid:!1,delete_id:null,isAdmin:!1,is_edit:!1,edit_id:null}},methods:{view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_category:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("category/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_categories(),window.getApp.$emit("CATEGORY_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("CATEGORY_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.category)this.category.hasOwnProperty(e)&&(this.category[e]="")},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.categories.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.category[s]=e[0][s])},edit_user:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("category/"+t.edit_id,t.category,s).then(function(e){t.dialog.show_add=!1,t.get_categories(),window.getApp.$emit("CATEGORY_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("CATEGORY_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_categories:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("category",e).then(function(e){t.categories.items=e.data.categories})},add_category:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("category",t.category,s).then(function(e){t.dialog.show_add=!1,t.get_categories(),window.getApp.$emit("CATEGORY_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("CATEGORY_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()}},created:function(){this.get_categories()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-form",{attrs:{method:"post",action:"#",id:"prodcutForm"},model:{value:t.categoryFormValid,callback:function(e){t.categoryFormValid=e},expression:"categoryFormValid"}},[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Category")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{"prepend-icon":"layers",label:"Category Name",hint:"Name of the category",rules:[t.rules.required],clearable:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-textarea",{attrs:{label:"Description",hint:"Description of the category",clearable:""},model:{value:t.category.description,callback:function(e){t.$set(t.category,"description",e)},expression:"category.description"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:""}},[s("v-text-field",{attrs:{type:"number",label:"Rate",hint:"Rate",suffix:"%",clearable:""},model:{value:t.category.commission_rate,callback:function(e){t.$set(t.category,"commission_rate",e)},expression:"category.commission_rate"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.categoryFormValid},on:{click:function(e){t.edit_user()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.categoryFormValid},on:{click:function(e){t.add_category()}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.categories.headers,search:t.search,items:t.categories.items,"rows-per-page-items":[10,25,50,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.description))]),t._v(" "),s("td",[t._v(t._s(e.item.commission_rate))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Category")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the category?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_category()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},K7SE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=s("wtEF"),d=s("PJh5"),c=s.n(d),u={data:function(){return{search:"",expenses:{selected:[],headers:[{text:"OR #",value:"or_number"},{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"TIN",value:"tin"},{text:"Amount",value:"amount"},{text:"Date",value:"date"},{text:"VAT",value:"vat_text"},{text:"Type",value:"type_name"},{text:"Actions",value:"actions",align:"center"}],items:[]},type:[{text:"Personal",value:0},{text:"Davoh PH",value:1},{text:"Davoh Mumbai",value:2},{text:"Lotus Pharma",value:3}],or_type:[{text:"Non Vat",value:0},{text:"VAT",value:1}],date_menu:!1,date:null,dialog:{show_add:!1,show_delete:!1},expense:{or_number:"",name:"",description:"",tin:"",amount:0,type:null,or_type:null,date:null},rules:{required:function(t){return!!t||"Required."}},expenseFormValid:!1,is_edit:!1,delete_id:null,edit_id:null,isAdmin:!1,expenseInputActive:!1}},computed:{amountFormatted:{get:function(){return this.expenseInputActive?this.expense.amount.toString():this.expense.amount.toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},set:function(t){var e=parseFloat(t.replace(/[^\d\.]/g,""));isNaN(e)&&(e=0),this.expense.amount=e}}},methods:{view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_expense:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("expense/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_expenses(),window.getApp.$emit("EXPENSE_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("EXPENSE_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){this.dialog.show_add=!0,this.is_edit=!1},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.expenses.items.filter(function(e){return e.id===t});for(var s in e[0])if(e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s){var a=e[0][s];"date"===s&&(a=c()(a).format("MMMM D, YYYY")),this.expense[s]=a}this.date=c()(e.date).format("YYYY-MM-DD")},edit_expense:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("expense/"+t.edit_id,t.expense,s).then(function(e){t.dialog.show_add=!1,t.get_expenses(),window.getApp.$emit("EXPENSE_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("EXPENSE_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_expenses:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("expense",e).then(function(e){for(var s in e.data.expenses)e.data.expenses.hasOwnProperty(s)&&(0===e.data.expenses[s].type?e.data.expenses[s].type_name="Personal":1===e.data.expenses[s].type?e.data.expenses[s].type_name="Davoh PH":2===e.data.expenses[s].type?e.data.expenses[s].type_name="Davoh Mumbai":3===e.data.expenses[s].type&&(e.data.expenses[s].type_name="Lotus Pharma"),1===e.data.expenses[s].or_type?e.data.expenses[s].vat_text="VAT":0===e.data.expenses[s].or_type?e.data.expenses[s].vat_text="Non - VAT":e.data.expenses[s].vat_text="N/A");var a=e.data.expenses;t.isAdmin||(a=e.data.expenses.filter(function(t){return 1===t.type})),t.expenses.items=a})},add_expense:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("expense",t.expense,s).then(function(e){t.dialog.show_add=!1,t.get_expenses(),window.getApp.$emit("EXPENSE_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("EXPENSE_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()}},created:function(){0===l.a.state.user.level?this.isAdmin=!0:this.isAdmin=!1,this.get_expenses()}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-form",{attrs:{method:"post",action:"#",id:"expenseForm"},model:{value:t.expenseFormValid,callback:function(e){t.expenseFormValid=e},expression:"expenseFormValid"}},[s("v-card-title",[t.is_edit?s("span",{staticClass:"headline"},[t._v("Edit Expense")]):s("span",{staticClass:"headline"},[t._v("New Expense")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"OR #",hint:"OR Number",clearable:""},model:{value:t.expense.or_number,callback:function(e){t.$set(t.expense,"or_number",e)},expression:"expense.or_number"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"TIN",hint:"TIN",clearable:""},model:{value:t.expense.tin,callback:function(e){t.$set(t.expense,"tin",e)},expression:"expense.tin"}})],1)],1),t._v(" "),s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"Name",hint:"Name",rules:[t.rules.required],clearable:""},model:{value:t.expense.name,callback:function(e){t.$set(t.expense,"name",e)},expression:"expense.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[s("v-select",{attrs:{label:"VAT",items:t.or_type},model:{value:t.expense.or_type,callback:function(e){t.$set(t.expense,"or_type",e)},expression:"expense.or_type"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-textarea",{attrs:{label:"Description",hint:"Description",clearable:""},model:{value:t.expense.description,callback:function(e){t.$set(t.expense,"description",e)},expression:"expense.description"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",lg4:""}},[s("v-text-field",{attrs:{label:"Amount",value:"00.00",prefix:"₱",rules:[t.rules.required],clearable:""},on:{blur:function(e){t.expenseInputActive=!1},focus:function(e){t.expenseInputActive=!0}},model:{value:t.amountFormatted,callback:function(e){t.amountFormatted=e},expression:"amountFormatted"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[s("v-select",{attrs:{label:"Type",required:"",items:t.type},model:{value:t.expense.type,callback:function(e){t.$set(t.expense,"type",e)},expression:"expense.type"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",lg4:""}},[s("v-menu",{ref:"statDate",staticClass:"pr-2",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-bottom":-22,"max-width":"290px","return-value":t.expense.date},on:{"update:returnValue":function(e){t.$set(t.expense,"date",e)}},model:{value:t.date_menu,callback:function(e){t.date_menu=e},expression:"date_menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Date","append-icon":"event",readonly:"",rules:[t.rules.required]},slot:"activator",model:{value:t.expense.date,callback:function(e){t.$set(t.expense,"date",e)},expression:"expense.date"}}),t._v("`\n                          "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.expense.date,callback:function(e){t.$set(t.expense,"date",e)},expression:"expense.date"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.date_menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.statDate.save(t.expense.date)}}},[t._v("OK")])],1)],1)],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.expenseFormValid},on:{click:function(e){t.edit_expense()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.expenseFormValid},on:{click:function(e){t.add_expense()}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.expenses.headers,search:t.search,items:t.expenses.items,"rows-per-page-items":[10,25,50,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.or_number))]),t._v(" "),s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.description))]),t._v(" "),s("td",[t._v(t._s(e.item.tin))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.amount)))]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(e.item.date,"MMMM D, YYYY")))]),t._v(" "),s("td",[t._v(t._s(e.item.vat_text))]),t._v(" "),s("td",[t._v(t._s(e.item.type_name))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Expense")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the expense?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_expense()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},v=s("VU/8")(u,p,!1,null,null,null);e.default=v.exports},KM5k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l={data:function(){return{search:"",terms:{selected:[],headers:[{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Days",value:"days"},{text:"Interest (%)",value:"interest"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1},term:{name:"",description:"",interest:0,days:0},rules:{required:function(t){return!!t||"Required."}},termFormValid:!1,is_edit:!1,delete_id:null,edit_id:null}},computed:{days:function(){return this.term.days}},watch:{days:function(){this.compute_interest()}},methods:{compute_interest:function(){var t=this.term.days/30;this.term.interest=(5*t).toFixed(2)},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_term:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("term/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_terms(),window.getApp.$emit("TERM_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("TERM_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){this.dialog.show_add=!0,this.is_edit=!1},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.terms.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.term[s]=e[0][s])},edit_term:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("term/"+t.edit_id,t.term,s).then(function(e){t.dialog.show_add=!1,t.get_terms(),window.getApp.$emit("TERM_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("TERM_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_terms:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("term",e).then(function(e){t.terms.items=e.data.terms})},add_term:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("term",t.term,s).then(function(e){t.dialog.show_add=!1,t.get_terms(),window.getApp.$emit("TERM_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("TERM_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()}},created:function(){this.get_terms()}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-form",{attrs:{method:"post",action:"#",id:"termForm"},model:{value:t.termFormValid,callback:function(e){t.termFormValid=e},expression:"termFormValid"}},[s("v-card-title",[t.is_edit?s("span",{staticClass:"headline"},[t._v("Edit Term")]):s("span",{staticClass:"headline"},[t._v("New Term")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[s("v-text-field",{attrs:{"prepend-icon":"account_balance",label:"Name",hint:"Name",rules:[t.rules.required],clearable:""},model:{value:t.term.name,callback:function(e){t.$set(t.term,"name",e)},expression:"term.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",lg3:"","offset-xs-1":"","offset-sm1":"","offset-xs1":""}},[s("v-text-field",{attrs:{"prepend-icon":"calendar_today",type:"number",label:"Days",value:"0"},model:{value:t.term.days,callback:function(e){t.$set(t.term,"days",e)},expression:"term.days"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm2:"",md2:"","offset-xs-1":"","offset-sm1":"","offset-xs1":""}},[s("v-text-field",{attrs:{type:"number",label:"Interest",hint:"Interest",suffix:"%",readonly:""},model:{value:t.term.interest,callback:function(e){t.$set(t.term,"interest",e)},expression:"term.interest"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-textarea",{attrs:{label:"Description",hint:"Description",clearable:""},model:{value:t.term.description,callback:function(e){t.$set(t.term,"description",e)},expression:"term.description"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.termFormValid},on:{click:function(e){t.edit_term()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.termFormValid},on:{click:function(e){t.add_term()}}},[t._v("Add")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.terms.headers,search:t.search,items:t.terms.items,"rows-per-page-items":[10,25,50,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.description))]),t._v(" "),s("td",[t._v(t._s(e.item.days))]),t._v(" "),s("td",[t._v(t._s(e.item.interest))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Term")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the term?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_term()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},MFXg:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=(s("wtEF"),{data:function(){return{search:"",shipments:{selected:[],shipmentHeaders:[{text:"Code",value:"code"},{text:"Supplier",value:"supplier"},{text:"Date",value:"date"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1,show_products:!1},date_menu:!1,date:null,shipment:{code:null,supplier_id:null,date:null},products:[],suppliers:[],shipment_products:{headers:[{text:"Image",value:"image",align:"center"},{text:"Code",value:"code"},{text:"Category",value:"category.name"},{text:"Price",value:"price"},{text:"Actions",value:"actions",align:"center"}],items:[]},rules:{required:function(t){return!!t||"Required."}},shipmentFormValid:!1,delete_id:null,is_edit:!1,edit_id:null}},methods:{view_products:function(t){for(var e in this.shipment_products.items=this.products.filter(function(e){return e.shipment_id===t}),this.shipment_products.items)this.shipment_products.items.hasOwnProperty(e)&&(this.shipment_products.items[e].image_url="",this.shipment_products.items[e].product_images.length>0&&(this.shipment_products.items[e].image_url=this.shipment_products.items[e].product_images[0].url));this.dialog.show_products=!0},view_product:function(t){this.$router.push("/products/"+t)},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_shipment:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("shipment/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_shipments(),window.getApp.$emit("shipment_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("shipment_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.shipment)this.shipment.hasOwnProperty(e)&&(this.shipment[e]="")},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.shipments.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.shipment[s]=e[0][s])},edit_shipment:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("shipment/"+t.edit_id,t.shipment,s).then(function(e){t.dialog.show_add=!1,t.get_shipments(),window.getApp.$emit("shipment_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("shipment_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_shipments:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("shipment",e).then(function(e){var s=e.data.shipments;t.shipments.items=s})},add_shipment:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("shipment",t.shipment,s).then(function(e){t.dialog.show_add=!1,t.get_shipments(),window.getApp.$emit("shipment_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("shipment_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_products:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product",e).then(function(e){t.products=e.data.products})},get_suppliers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("supplier",e).then(function(e){e.data.suppliers.map(function(e){return t.suppliers.push({text:e.name,value:e.id}),!0})})}},created:function(){this.get_shipments(),this.get_products(),this.get_suppliers()}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Shipment")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"shipmentForm"},model:{value:t.shipmentFormValid,callback:function(e){t.shipmentFormValid=e},expression:"shipmentFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[s("v-text-field",{attrs:{prefix:"#",label:"Code",hint:"Code of the Shipment",rules:[t.rules.required],clearable:""},model:{value:t.shipment.code,callback:function(e){t.$set(t.shipment,"code",e)},expression:"shipment.code"}})],1),t._v(" "),s("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[s("v-select",{attrs:{"prepend-icon":"layers",label:"Supplier",items:t.suppliers,rules:[t.rules.required]},model:{value:t.shipment.supplier_id,callback:function(e){t.$set(t.shipment,"supplier_id",e)},expression:"shipment.supplier_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm4:"",lg4:""}},[s("v-menu",{ref:"statDate",staticClass:"pr-2",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-bottom":-22,"max-width":"290px","return-value":t.shipment.date},on:{"update:returnValue":function(e){t.$set(t.shipment,"date",e)}},model:{value:t.date_menu,callback:function(e){t.date_menu=e},expression:"date_menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Date","append-icon":"event",readonly:"",rules:[t.rules.required]},slot:"activator",model:{value:t.shipment.date,callback:function(e){t.$set(t.shipment,"date",e)},expression:"shipment.date"}}),t._v("`\n                          "),s("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.shipment.date,callback:function(e){t.$set(t.shipment,"date",e)},expression:"shipment.date"}},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.date_menu=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.statDate.save(t.shipment.date)}}},[t._v("OK")])],1)],1)],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.shipmentFormValid},on:{click:function(e){t.edit_shipment()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.shipmentFormValid},on:{click:function(e){t.add_shipment()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.shipments.shipmentHeaders,search:t.search,items:t.shipments.items,"rows-per-page-items":[5,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.supplier.name))]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(e.item.date,"MMMM D, YYYY")))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_products(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1),t._v(" "),s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_products=!1}},model:{value:t.dialog.show_products,callback:function(e){t.$set(t.dialog,"show_products",e)},expression:"dialog.show_products"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("shipment products")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.shipment_products.headers,search:t.search,items:t.shipment_products.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-center"},[s("v-avatar",{attrs:{size:"32"}},[s("img",{attrs:{src:e.item.image_url,alt:""}})])],1),t._v(" "),s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.category.name))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.price)))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_product(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1)],1)]}}])})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_products=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete shipment")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the shipment?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_shipment()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=[{title:"Products",group:"default",icon:"storage",name:"Products"},{title:"Expenses",group:"default",icon:"attach_money",name:"Expenses"},{title:"Reports",group:"default",icon:"show_chart",name:"Reports"},{title:"Customers",group:"default",icon:"face",name:"Customers"},{title:"Agents",group:"default",icon:"work",name:"Agents"},{title:"Suppliers",group:"default",icon:"layers",name:"Suppliers"},{title:"Shipments",group:"default",icon:"local_shipping",name:"Shipments"},{title:"Returns",group:"default",icon:"autorenew",name:"Returns"},{title:"Categories",group:"default",icon:"local_offer",name:"Categories"},{title:"Terms",group:"default",icon:"account_balance",name:"Terms"},{title:"Users",group:"default",icon:"assignment_ind",name:"Users"}],r=[{title:"Products",group:"default",icon:"storage",name:"Products"},{title:"Expenses",group:"default",icon:"attach_money",name:"Expenses"},{title:"Reports",group:"default",icon:"show_chart",name:"Reports"},{title:"Customers",group:"default",icon:"face",name:"Customers"},{title:"Agents",group:"default",icon:"work",name:"Agents"},{title:"Suppliers",group:"default",icon:"layers",name:"Suppliers"},{title:"Shipments",group:"default",icon:"local_shipping",name:"Shipments"},{title:"Shipments",group:"default",icon:"local_shipping",name:"Shipments"},{title:"Categories",group:"default",icon:"local_offer",name:"Categories"},{title:"Terms",group:"default",icon:"account_balance",name:"Terms"}],n=[{title:"Products",group:"default",icon:"storage",name:"Products"},{title:"Customers",group:"default",icon:"face",name:"Customers"},{title:"Agents",group:"default",icon:"work",name:"Agents"},{title:"Suppliers",group:"default",icon:"layers",name:"Suppliers"},{title:"Shipments",group:"default",icon:"local_shipping",name:"Shipments"},{title:"Expenses",group:"default",icon:"attach_money",name:"Expenses"}],o=s("wtEF"),l=s("etTB"),d={name:"app-drawer",components:{VuePerfectScrollbar:s.n(l).a},props:{expanded:{type:Boolean,default:!0}},data:function(){return{mini:!1,drawer:!0,menus:r,scrollSettings:{maxScrollbarLength:160}}},computed:{computeGroupActive:function(){return!0},computeLogo:function(){return"/static/img/logo-white.png"},sideToolbarColor:function(){return this.$vuetify.options.extra.sideNav}},created:function(){var t=this;0===o.a.state.user.level?this.menus=i:1===o.a.state.user.level?this.menus=r:this.menus=n,window.getApp.$on("APP_DRAWER_TOGGLED",function(){t.drawer=!t.drawer})},methods:{genChildTarget:function(t,e){if(!e.href)return e.component?{name:e.component}:{name:t.group+"/"+e.name}}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-navigation-drawer",{attrs:{id:"appDrawer","mini-variant":t.mini,fixed:"",dark:t.$vuetify.dark,app:"",width:"260"},on:{"update:miniVariant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-toolbar",{attrs:{color:"primary darken-1",dark:""}},[s("img",{attrs:{src:t.computeLogo,height:"36",alt:"davoh"}}),t._v(" "),s("v-toolbar-title",{staticClass:"ml-0 pl-3"},[s("span",{staticClass:"hidden-sm-and-down"},[t._v("DAVOH")])])],1),t._v(" "),s("vue-perfect-scrollbar",{staticClass:"drawer-menu--scroll",attrs:{settings:t.scrollSettings}},[s("v-list",{attrs:{dense:"",expand:""}},[t._l(t.menus,function(e,a){return[e.items?s("v-list-group",{key:e.name,attrs:{group:e.group,"prepend-icon":e.icon,"no-action":"no-action"}},[s("v-list-tile",{attrs:{slot:"activator",ripple:"ripple"},slot:"activator"},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1),t._v(" "),t._l(e.items,function(a,i){return[a.items?s("v-list-group",{key:a.name,attrs:{group:a.group,"sub-group":"sub-group"}},[s("v-list-tile",{attrs:{slot:"activator",ripple:"ripple"},slot:"activator"},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(a.title))])],1)],1),t._v(" "),t._l(a.children,function(a,i){return s("v-list-tile",{key:i,attrs:{to:t.genChildTarget(e,a),href:a.href,ripple:"ripple"}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(a.title))])],1)],1)})],2):s("v-list-tile",{key:i,attrs:{to:t.genChildTarget(e,a),href:a.href,disabled:a.disabled,target:a.target,ripple:"ripple"}},[s("v-list-tile-content",[s("v-list-tile-title",[s("span",[t._v(t._s(a.title))])])],1),t._v(" "),a.action?s("v-list-tile-action",[s("v-icon",{class:[a.actionClass||"success--text"]},[t._v(t._s(a.action))])],1):t._e()],1)]})],2):e.header?s("v-subheader",{key:a},[t._v(t._s(e.header))]):e.divider?s("v-divider",{key:a}):s("v-list-tile",{key:e.name,attrs:{to:e.href?null:{name:e.name},href:e.href,ripple:"ripple",disabled:e.disabled,target:e.target,rel:"noopener"}},[e.icon?s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1),t._v(" "),e.subAction?s("v-list-tile-action",[s("v-icon",{staticClass:"success--text"},[t._v(t._s(e.subAction))])],1):t._e()],1)]})],2)],1)],1)},staticRenderFns:[]};var u=s("VU/8")(d,c,!1,function(t){s("Ut0j")},null,null).exports,p=s("Xxa5"),v=s.n(p),_=s("exGp"),m=s.n(_),h=s("P9l9"),f=function(){var t=window.document,e=t.documentElement,s=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,a=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?a.call(t):s.call(e)},g={name:"app-toolbar",data:function(){return{dialog:{show_edit:!1},userFormValid:!1,user_id:null,rules:{required:function(t){return!!t||"Required."}},user:{first_name:"",last_name:"",email:"",username:"",password:"",contact:"",address:"",level:1}}},methods:{show_profile:function(){this.dialog.show_edit=!0},edit_user:function(){var t=this;return m()(v.a.mark(function e(){var s,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},a=t.user.id,delete t.user.id,e.next=6,Object(h.a)().put("user/"+a,t.user,s).then(function(e){t.dialog.show_edit=!1,window.getApp.$emit("USER_EDIT_SUCCESS")});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("USER_EDIT_FAIL");case 12:case"end":return e.stop()}},e,t,[[0,8]])}))()},logout:function(){o.a.dispatch("setToken",null),window.getApp.$emit("APP_LOGOUT")},handleDrawerToggle:function(){window.getApp.$emit("APP_DRAWER_TOGGLED")},handleFullScreen:function(){f()}},created:function(){this.user=o.a.state.user}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-toolbar",{attrs:{color:"primary",fixed:"",dark:"",app:""}},[s("v-toolbar-title",{staticClass:"ml-0 pl-3"},[s("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.handleDrawerToggle(e)}}})],1),t._v(" "),s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_edit=!1}},model:{value:t.dialog.show_edit,callback:function(e){t.$set(t.dialog,"show_edit",e)},expression:"dialog.show_edit"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Edit Profile")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"userForm"},model:{value:t.userFormValid,callback:function(e){t.userFormValid=e},expression:"userFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"First Name",hint:"First Name",rules:[t.rules.required]},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"Last Name",hint:"Last Name",rules:[t.rules.required]},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"account_box",label:"Username",hint:"Username",rules:[t.rules.required]},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"lock",type:"password",label:"Password",hint:"Password",rules:[t.rules.required]},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"mail_outline",label:"Email",hint:"Email",rules:[t.rules.required]},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"Contact",hint:"Contact"},model:{value:t.user.contact,callback:function(e){t.$set(t.user,"contact",e)},expression:"user.contact"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"place",label:"Address",hint:"Address"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_edit=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.userFormValid},on:{click:function(e){t.edit_user()}}},[t._v("Edit")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-menu",{attrs:{"offset-y":"",origin:"center center","nudge-bottom":10,transition:"scale-transition"}},[s("v-btn",{attrs:{slot:"activator",icon:"",large:"",flat:""},slot:"activator"},[s("v-avatar",{attrs:{size:"30px"}},[s("v-icon",[t._v("settings")])],1)],1),t._v(" "),s("v-list",{staticClass:"pa-0"},[s("v-list-tile",{on:{click:function(e){t.show_profile()}}},[s("v-list-tile-action",[s("v-icon",[t._v("account_circle")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Profile")])],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(e){t.logout()}}},[s("v-list-tile-action",[s("v-icon",[t._v("exit_to_app")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("Logout")])],1)],1)],1)],1)],1)},staticRenderFns:[]},b=s("VU/8")(g,x,!1,null,null,null).exports,w={name:"app-fab",data:function(){return{fab:!1}},methods:{onScroll:function(){if("undefined"!=typeof window){var t=window.pageYOffset||document.documentElement.offsetTop||0;this.fab=t>300}},toTop:function(){this.$router.push({hash:""}),this.$vuetify.goTo(0)}}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-fab-transition",[e("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:this.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:this.fab,expression:"fab"}],attrs:{fab:"fab",small:"",dark:"dark",fixed:"fixed",bottom:"bottom",right:"right",color:"red"},on:{click:this.toTop}},[e("v-icon",[this._v("keyboard_arrow_up")])],1)],1)},staticRenderFns:[]},y=s("VU/8")(w,k,!1,null,null,null).exports,C={data:function(){return{title:"",menus:r}},computed:{breadcrumbs:function(){var t=this,e=[];return this.menus.forEach(function(s){if(s.items){var a=s.items.find(function(e){return e.component===t.$route.name});a&&(e.push(s.title),e.push(a.title),t.title=a.title)}else s.name===t.$route.name&&(t.title=s.title,e.push(s.title))}),e}},created:function(){0===o.a.state.user.level?this.menus=i:this.menus=r}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[s("div",{staticClass:"page-header-left"},[s("h3",{staticClass:"pr-3"},[t._v(t._s(t.title))])]),t._v(" "),s("v-breadcrumbs",{attrs:{divider:"-"}},[s("v-breadcrumbs-item",[s("v-icon",{attrs:{larg:""}},[t._v("home")])],1),t._v(" "),t._l(t.breadcrumbs,function(e,a){return s("v-breadcrumbs-item",{key:a},[t._v("\n    "+t._s(e)+"\n    ")])})],2),t._v(" "),s("v-spacer"),t._v(" "),s("div",{staticClass:"page-header-right"},[s("v-btn",{attrs:{icon:""}},[s("v-icon",{staticClass:"text--secondary"},[t._v("refresh")])],1)],1)],1)},staticRenderFns:[]},A=s("VU/8")(C,E,!1,null,null,null).exports,D=(s("bUp0"),[{name:"APP_LOGIN_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Login successfully."}}},{name:"APP_LOGOUT",callback:function(t){this.snackbar={show:!0,color:"green",text:"Logout successfully."},this.$router.replace({path:"/"})}},{name:"APP_PAGE_LOADED",callback:function(t){}},{name:"APP_AUTH_FAILED",callback:function(t){this.$router.push("/"),this.$message.error("Token has expired")}},{name:"APP_BAD_REQUEST",callback:function(t){this.$message.error(t)}},{name:"APP_ACCESS_DENIED",callback:function(t){this.$message.error(t),this.$router.push("/forbidden")}},{name:"APP_RESOURCE_DELETED",callback:function(t){this.$message.success(t)}},{name:"APP_RESOURCE_UPDATED",callback:function(t){this.$message.success(t)}},{name:"PRODUCT_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Product added successfully."}}},{name:"PRODUCT_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Product add fail."}}},{name:"PRODUCT_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Product delete successfully."}}},{name:"PRODUCT_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Product delete fail."}}},{name:"PRODUCT_UPDATE_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Product update successfully."}}},{name:"PRODUCT_UPDATE_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Product update fail."}}},{name:"IMAGE_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Image added successfully."}}},{name:"IMAGE_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Image add fail."}}},{name:"IMAGE_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Image delete successfully."}}},{name:"IMAGE_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Image delete fail."}}},{name:"EXPENSE_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Expense added successfully."}}},{name:"EXPENSE_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Expense add fail."}}},{name:"EXPENSE_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Expense delete successfully."}}},{name:"EXPENSE_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Expense delete fail."}}},{name:"EXPENSE_EDIT_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Expense edited successfully."}}},{name:"EXPENSE_EDIT_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Expense edited fail."}}},{name:"CATEGORY_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Category added successfully."}}},{name:"CATEGORY_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Category add fail."}}},{name:"CATEGORY_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Category delete successfully."}}},{name:"CATEGORY_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Category delete fail."}}},{name:"CATEGORY_EDIT_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Category edit successfully."}}},{name:"CATEGORY_EDIT_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Category edit fail."}}},{name:"TERM_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Term added successfully."}}},{name:"TERM_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Term add fail."}}},{name:"TERM_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Term delete successfully."}}},{name:"TERM_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Term delete fail."}}},{name:"TERM_EDIT_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"Term edited successfully."}}},{name:"TERM_EDIT_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"Term edited fail."}}},{name:"USER_ADDED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"User added successfully."}}},{name:"USER_ADDED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"User add fail."}}},{name:"USER_DELETED_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"User delete successfully."}}},{name:"USER_DELETED_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"User delete fail."}}},{name:"USER_EDIT_SUCCESS",callback:function(t){this.snackbar={show:!0,color:"green",text:"User edit successfully."}}},{name:"USER_EDIT_FAIL",callback:function(t){this.snackbar={show:!0,color:"red",text:"User edit fail."}}}]),S={components:{AppDrawer:u,AppToolbar:b,AppFab:y,PageHeader:A},data:function(){return{expanded:!0,snackbar:{show:!1,text:"",color:""}}},computed:{},created:function(){var t=this;D.forEach(function(e){t.$on(e.name,e.callback)}),window.getApp=this},methods:{}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"appRoot"}},[t.$route.meta.public?[s("transition",[s("keep-alive",[s("router-view")],1)],1)]:[s("v-app",{staticClass:"app",attrs:{id:"inspire"}},[s("app-drawer",{staticClass:"app--drawer"}),t._v(" "),s("app-toolbar",{staticClass:"app--toolbar"}),t._v(" "),s("v-content",[t.$route.meta.breadcrumb?s("page-header"):t._e(),t._v(" "),s("div",{staticClass:"page-wrapper"},[s("router-view")],1),t._v(" "),s("v-footer",{staticClass:"white pa-3 app--footer",attrs:{height:"auto"}},[s("span",{staticClass:"caption"},[t._v("Davoh © "+t._s((new Date).getFullYear()))]),t._v(" "),s("v-spacer")],1)],1),t._v(" "),s("app-fab")],1)],t._v(" "),s("v-snackbar",{attrs:{timeout:3e3,bottom:"",right:"",color:t.snackbar.color},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v("\n    "+t._s(t.snackbar.text)+"\n    "),s("v-btn",{attrs:{dark:"",flat:"",icon:""},nativeOn:{click:function(e){t.snackbar.show=!1}}},[s("v-icon",[t._v("close")])],1)],1)],2)},staticRenderFns:[]};var F=s("VU/8")(S,$,!1,function(t){s("iFiJ")},"data-v-2b317d3b",null).exports,j=s("3EgV"),T=s.n(j),P=s("8AgW"),O=s.n(P),U=s("iFuF"),R=s.n(U),I=s("/ocq"),N=s("//Fk"),L=s.n(N),q=[{path:"*",meta:{public:!0},redirect:{path:"/404"}},{path:"/404",meta:{public:!0},name:"NotFound",component:function(){return L.a.resolve().then(function(){return s("odg4")})}},{path:"/403",meta:{public:!0},name:"AccessDenied",component:function(){return L.a.resolve().then(function(){return s("horf")})}},{path:"/500",meta:{public:!0},name:"ServerError",component:function(){return L.a.resolve().then(function(){return s("f2KA")})}},{path:"/",meta:{public:!0},name:"Root",component:function(){return L.a.resolve().then(function(){return s("P7ry")})}},{path:"/products",meta:{breadcrumb:!0,requiresAuth:!0},name:"Products",component:function(){return L.a.resolve().then(function(){return s("xi6k")})}},{path:"/products/:product_id",meta:{breadcrumb:!0,requiresAuth:!0},name:"Products View",component:function(){return L.a.resolve().then(function(){return s("099G")})}},{path:"/agents",meta:{breadcrumb:!0,requiresAuth:!0},name:"Agents",component:function(){return L.a.resolve().then(function(){return s("vVaU")})}},{path:"/suppliers",meta:{breadcrumb:!0,requiresAuth:!0},name:"Suppliers",component:function(){return L.a.resolve().then(function(){return s("txrl")})}},{path:"/shipments",meta:{breadcrumb:!0,requiresAuth:!0},name:"Shipments",component:function(){return L.a.resolve().then(function(){return s("MFXg")})}},{path:"/customers",meta:{breadcrumb:!0,requiresAuth:!0},name:"Customers",component:function(){return L.a.resolve().then(function(){return s("sAxQ")})}},{path:"/expenses",meta:{breadcrumb:!0,requiresAuth:!0},name:"Expenses",component:function(){return L.a.resolve().then(function(){return s("K7SE")})}},{path:"/reports",meta:{breadcrumb:!0,requiresAuth:!0,requiresAdmin:!0},name:"Reports",component:function(){return L.a.resolve().then(function(){return s("87tl")})}},{path:"/categories",meta:{breadcrumb:!0,requiresAuth:!0,requiresAdmin:!0},name:"Categories",component:function(){return L.a.resolve().then(function(){return s("JIyO")})}},{path:"/terms",meta:{breadcrumb:!0,requiresAuth:!0,requiresAdmin:!0},name:"Terms",component:function(){return L.a.resolve().then(function(){return s("KM5k")})}},{path:"/Users",meta:{breadcrumb:!0,requiresAuth:!0,requiresAdmin:!0},name:"Users",component:function(){return L.a.resolve().then(function(){return s("v+uL")})}},{path:"/Returns",meta:{breadcrumb:!0,requiresAuth:!0,requiresAdmin:!0},name:"Returns",component:function(){return L.a.resolve().then(function(){return s("DIRN")})}}];s("Y81h"),s("UVIz");a.default.use(I.a);var M=new I.a({base:"/",mode:"history",linkActiveClass:"active",routes:q});M.beforeEach(function(t,e,s){t.name?t.meta.requiresAuth&&!o.a.state.isUserLogged||t.meta.requiresAdmin&&2===o.a.state.user.type?s({path:"/403"}):s():s({path:"/404"})});var z=M,V=(s("5W1q"),s("ijIZ"),s("sUu7")),Y=s("tYtk"),G=s.n(Y),H=s("LRLq"),X=s.n(H),W=s("9VIl"),B=s.n(W),K=s("goa7"),J=s.n(K);s("A3Z+");a.default.config.productionTip=!1,a.default.use(J.a),a.default.filter("truncate",G.a),a.default.use(V.a,{fieldsBagName:"formFields"}),a.default.use(O.a),a.default.use(B.a,{precision:2}),a.default.use(X.a,{cloud_name:"dtrdp4uus",api_key:"223544386456498",api_secret:"HAc2y3UwfcEWkNhUqecKcAOS4OM"}),a.default.use(R.a,{symbol:"₱",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!0}),a.default.use(T.a,{theme:{primary:"#e4b23a",secondary:"#2d2d2d",accent:"#e4b23a"},options:{themeVariations:["primary","secondary","accent"],extra:{mainToolbar:{color:"primary"},sideToolbar:{},sideNav:"primary",mainNav:"primary lighten-1",bodyBg:""}}}),new a.default({el:"#app",router:z,store:o.a,components:{App:F},template:"<App/>"})},P7ry:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l={data:function(){return{loading:!1,error:"",username:"",password:""}},methods:{login:function(){var t=this;return n()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,Object(o.a)().post("login",{username:t.username,password:t.password}).then(function(e){t.loading=!1,t.$store.dispatch("setToken",e.data.token),t.$store.dispatch("setUser",e.data.data),t.$router.push("/products"),window.getApp.$emit("APP_LOGIN_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.loading=!1,t.error=" "+e.t0.response.data.message;case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"login"}},[s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:"",lg4:""}},[s("v-card",{staticClass:"elevation-1 pa-3"},[s("v-card-text",[s("div",{staticClass:"layout column align-center"},[s("img",{attrs:{src:"/static/img/logo_text.png",alt:"davoh",width:"240",height:"240"}})]),t._v(" "),s("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],attrs:{type:"error",value:!0}},[t._v("\n                "+t._s(t.error)+"\n              ")]),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{block:"",color:"primary",loading:t.loading},on:{click:t.login,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null}}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(l,d,!1,function(t){s("RkJA")},"data-v-381ae9aa",null);e.default=c.exports},P9l9:function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a);e.a=function(){return i.a.create({baseURL:"https://api.davohjewelryco.com:8010/"})}},RkJA:function(t,e){},UVIz:function(t,e){},Ut0j:function(t,e){},bUp0:function(t,e){},f2KA:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"404"}},[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[e("div",{staticClass:"mr-3 hidden-sm-and-down"},[e("img",{attrs:{src:"/static/error/500.svg",alt:""}})]),this._v(" "),e("div",{staticClass:"text-md-center"},[e("h1",[this._v("500")]),this._v(" "),e("h2",{staticClass:"my-3 headline "},[this._v("Sorry, the server is down.")]),this._v(" "),e("div",[e("v-btn",{attrs:{color:"primary"},on:{click:this.goHome}},[this._v("Go Home")])],1)])])],1)],1)},staticRenderFns:[]};var i=s("VU/8")({methods:{goHome:function(){this.$router.push({path:"/"})}}},a,!1,function(t){s("3DGr")},"data-v-1d62e0e5",null);e.default=i.exports},horf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"404"}},[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("div",{staticClass:"mr-3 hidden-sm-and-down"},[e("img",{attrs:{src:"/static/error/403.svg",alt:""}})]),this._v(" "),e("div",{staticClass:"text-md-center"},[e("h1",[this._v("403")]),this._v(" "),e("h2",{staticClass:"my-3 headline "},[this._v("Sorry, access denied.")]),this._v(" "),e("div",[e("v-btn",{attrs:{color:"primary"},on:{click:this.goHome}},[this._v("Go Home")])],1)])])],1)],1)},staticRenderFns:[]};var i=s("VU/8")({methods:{goHome:function(){this.$router.push({path:"/"})}}},a,!1,function(t){s("AKIF")},"data-v-ee0e3d0c",null);e.default=i.exports},iFiJ:function(t,e){},ijIZ:function(t,e){},odg4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"404"}},[e("v-container",{attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("div",{staticClass:"text-md-center"},[e("h1",[this._v("404")]),this._v(" "),e("h2",{staticClass:"my-3 headline "},[this._v("Sorry, page not found")]),this._v(" "),e("div",[e("v-btn",{attrs:{color:"primary"},on:{click:this.goHome}},[this._v("Go Home")])],1)])])],1)],1)},staticRenderFns:[]};var i=s("VU/8")({methods:{goHome:function(){this.$router.push({path:"/dashboard"})}}},a,!1,function(t){s("xJJN")},"data-v-667a634a",null);e.default=i.exports},sAxQ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=(s("wtEF"),{data:function(){return{search:"",customers:{selected:[],customerHeaders:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Contact",value:"contact"},{text:"Address",value:"address"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1,show_products:!1},customer:{name:"",email:"",contact:"",address:""},products:[],customer_products:{headers:[{text:"Image",value:"image",align:"center"},{text:"Code",value:"code"},{text:"Category",value:"category.name"},{text:"Price",value:"price"},{text:"Actions",value:"actions",align:"center"}],items:[]},rules:{required:function(t){return!!t||"Required."}},customerFormValid:!1,delete_id:null,is_edit:!1,edit_id:null}},methods:{view_products:function(t){for(var e in this.customer_products.items=this.products.filter(function(e){return e.product_status.customer_id===t}),this.customer_products.items)this.customer_products.items.hasOwnProperty(e)&&(this.customer_products.items[e].image_url="",this.customer_products.items[e].product_images.length>0&&(this.customer_products.items[e].image_url=this.customer_products.items[e].product_images[0].url));this.dialog.show_products=!0},view_product:function(t){this.$router.push("/products/"+t)},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_customer:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("customer/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_customers(),window.getApp.$emit("CUSTOMER_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("CUSTOMER_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.customer)this.customer.hasOwnProperty(e)&&(this.customer[e]="")},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.customers.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.customer[s]=e[0][s])},edit_customer:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("customer/"+t.edit_id,t.customer,s).then(function(e){t.dialog.show_add=!1,t.get_customers(),window.getApp.$emit("CUSTOMER_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("CUSTOMER_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_customers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("customer",e).then(function(e){var s=e.data.customers;t.customers.items=s})},add_customer:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("customer",t.customer,s).then(function(e){t.dialog.show_add=!1,t.get_customers(),window.getApp.$emit("CUSTOMER_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("CUSTOMER_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_products:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product",e).then(function(e){t.products=e.data.products.filter(function(t){return"Sold"===t.product_status.status})})}},created:function(){this.get_customers(),this.get_products()}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Customer")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"customerForm"},model:{value:t.customerFormValid,callback:function(e){t.customerFormValid=e},expression:"customerFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"Name",hint:"Name",rules:[t.rules.required]},model:{value:t.customer.name,callback:function(e){t.$set(t.customer,"name",e)},expression:"customer.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"mail_outline",label:"Email",hint:"Email"},model:{value:t.customer.email,callback:function(e){t.$set(t.customer,"email",e)},expression:"customer.email"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"Contact",hint:"Contact"},model:{value:t.customer.contact,callback:function(e){t.$set(t.customer,"contact",e)},expression:"customer.contact"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"place",label:"Address",hint:"Address"},model:{value:t.customer.address,callback:function(e){t.$set(t.customer,"address",e)},expression:"customer.address"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.customerFormValid},on:{click:function(e){t.edit_customer()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.customerFormValid},on:{click:function(e){t.add_customer()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.customers.customerHeaders,search:t.search,items:t.customers.items,"rows-per-page-items":[5,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.email))]),t._v(" "),s("td",[t._v(t._s(e.item.contact))]),t._v(" "),s("td",[t._v(t._s(e.item.address))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_products(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1),t._v(" "),s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_products=!1}},model:{value:t.dialog.show_products,callback:function(e){t.$set(t.dialog,"show_products",e)},expression:"dialog.show_products"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Customer products")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.customer_products.headers,search:t.search,items:t.customer_products.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-center"},[s("v-avatar",{attrs:{size:"32"}},[s("img",{attrs:{src:e.item.image_url,alt:""}})])],1),t._v(" "),s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.category.name))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.price)))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_product(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1)],1)]}}])})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_products=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Customer")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the customer?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_customer()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},txrl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=(s("wtEF"),{data:function(){return{search:"",suppliers:{selected:[],supplierHeaders:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Contact",value:"contact"},{text:"Address",value:"address"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1,show_products:!1},supplier:{name:"",email:"",contact:"",address:""},products:[],supplier_products:{headers:[{text:"Image",value:"image",align:"center"},{text:"Code",value:"code"},{text:"Category",value:"category.name"},{text:"Price",value:"price"},{text:"Actions",value:"actions",align:"center"}],items:[]},rules:{required:function(t){return!!t||"Required."}},supplierFormValid:!1,delete_id:null,is_edit:!1,edit_id:null}},methods:{view_products:function(t){for(var e in this.supplier_products.items=this.products.filter(function(e){return e.supplier_id===t}),this.supplier_products.items)this.supplier_products.items.hasOwnProperty(e)&&(this.supplier_products.items[e].image_url="",this.supplier_products.items[e].product_images.length>0&&(this.supplier_products.items[e].image_url=this.supplier_products.items[e].product_images[0].url));this.dialog.show_products=!0},view_product:function(t){this.$router.push("/products/"+t)},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_supplier:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("supplier/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_suppliers(),window.getApp.$emit("supplier_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("supplier_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.supplier)this.supplier.hasOwnProperty(e)&&(this.supplier[e]="")},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.suppliers.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.supplier[s]=e[0][s])},edit_supplier:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("supplier/"+t.edit_id,t.supplier,s).then(function(e){t.dialog.show_add=!1,t.get_suppliers(),window.getApp.$emit("supplier_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("supplier_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_suppliers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("supplier",e).then(function(e){var s=e.data.suppliers;t.suppliers.items=s})},add_supplier:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("supplier",t.supplier,s).then(function(e){t.dialog.show_add=!1,t.get_suppliers(),window.getApp.$emit("supplier_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("supplier_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_products:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product",e).then(function(e){t.products=e.data.products})}},created:function(){this.get_suppliers(),this.get_products()}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Supplier")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"supplierForm"},model:{value:t.supplierFormValid,callback:function(e){t.supplierFormValid=e},expression:"supplierFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"Name",hint:"Name",rules:[t.rules.required]},model:{value:t.supplier.name,callback:function(e){t.$set(t.supplier,"name",e)},expression:"supplier.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"mail_outline",label:"Email",hint:"Email"},model:{value:t.supplier.email,callback:function(e){t.$set(t.supplier,"email",e)},expression:"supplier.email"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"Contact",hint:"Contact"},model:{value:t.supplier.contact,callback:function(e){t.$set(t.supplier,"contact",e)},expression:"supplier.contact"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.supplierFormValid},on:{click:function(e){t.edit_supplier()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.supplierFormValid},on:{click:function(e){t.add_supplier()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.suppliers.supplierHeaders,search:t.search,items:t.suppliers.items,"rows-per-page-items":[5,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.email))]),t._v(" "),s("td",[t._v(t._s(e.item.contact))]),t._v(" "),s("td",[t._v(t._s(e.item.address))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_products(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1),t._v(" "),s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_products=!1}},model:{value:t.dialog.show_products,callback:function(e){t.$set(t.dialog,"show_products",e)},expression:"dialog.show_products"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Supplier products")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.supplier_products.headers,search:t.search,items:t.supplier_products.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-center"},[s("v-avatar",{attrs:{size:"32"}},[s("img",{attrs:{src:e.item.image_url,alt:""}})])],1),t._v(" "),s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.category.name))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.price)))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_product(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1)],1)]}}])})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_products=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete supplier")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the supplier?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_supplier()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return s(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="uslO"},"v+uL":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=s("wtEF"),d={data:function(){return{search:"",users:{selected:[],userHeaders:[{text:"First Name",value:"first_name"},{text:"Last Name",value:"last_name"},{text:"Email",value:"email"},{text:"Contact",value:"contact"},{text:"Level",value:"type_name"},{text:"Actions",value:"actions",align:"center"}],items:[]},type:[{text:"Admin",value:1},{text:"Staff",value:2}],dialog:{show_add:!1,show_delete:!1},user:{first_name:"",last_name:"",email:"",username:"",password:"",contact:"",address:"",level:1},rules:{required:function(t){return!!t||"Required."}},userFormValid:!1,delete_id:null,isAdmin:!1,is_edit:!1,edit_id:null}},methods:{view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_user:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("user/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_users(),window.getApp.$emit("USER_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("PRODUCT_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_user:function(t){this.$router.push("/user/"+t)},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.user)this.user.hasOwnProperty(e)&&(this.user[e]="");this.user.level=1},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.users.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.user[s]=e[0][s]);this.user.password=""},edit_user:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("user/"+t.edit_id,t.user,s).then(function(e){t.dialog.show_add=!1,t.get_users(),window.getApp.$emit("USER_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("USER_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_users:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("user",e).then(function(e){var s=e.data.users.filter(function(t){return 0!==t.level});for(var a in s)s.hasOwnProperty(a)&&(1===s[a].level?s[a].type_name="Admin":2===s[a].level&&(s[a].type_name="Staff"));t.users.items=s})},add_user:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("register",t.user,s).then(function(e){t.dialog.show_add=!1,t.get_users(),window.getApp.$emit("USER_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("USER_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()}},created:function(){0===l.a.state.user.level&&(this.isAdmin=!0),this.get_users()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New User")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"userForm"},model:{value:t.userFormValid,callback:function(e){t.userFormValid=e},expression:"userFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"First Name",hint:"First Name",rules:[t.rules.required]},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"Last Name",hint:"Last Name",rules:[t.rules.required]},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"account_box",label:"Username",hint:"Username",rules:[t.rules.required]},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"lock",type:"password",label:"Password",hint:"Password",rules:[t.rules.required]},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"mail_outline",label:"Email",hint:"Email",rules:[t.rules.required]},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"Contact",hint:"Contact"},model:{value:t.user.contact,callback:function(e){t.$set(t.user,"contact",e)},expression:"user.contact"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"place",label:"Address",hint:"Address"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-select",{attrs:{"prepend-icon":"fingerprint",label:"Level",items:t.type,rules:[t.rules.required]},model:{value:t.user.level,callback:function(e){t.$set(t.user,"level",e)},expression:"user.level"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.userFormValid},on:{click:function(e){t.edit_user()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.userFormValid},on:{click:function(e){t.add_user()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.users.userHeaders,search:t.search,items:t.users.items,"rows-per-page-items":[10,25,50,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.first_name))]),t._v(" "),s("td",[t._v(t._s(e.item.last_name))]),t._v(" "),s("td",[t._v(t._s(e.item.email))]),t._v(" "),s("td",[t._v(t._s(e.item.contact))]),t._v(" "),s("td",[t._v(t._s(e.item.type_name))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete User")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the user?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_user()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},u=s("VU/8")(d,c,!1,null,null,null);e.default=u.exports},vVaU:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=(s("wtEF"),{data:function(){return{search:"",agents:{selected:[],agentHeaders:[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Contact",value:"contact"},{text:"Actions",value:"actions",align:"center"}],items:[]},dialog:{show_add:!1,show_delete:!1,show_products:!1},agent:{name:"",email:"",contact:""},products:[],agent_products:{headers:[{text:"Image",value:"image",align:"center"},{text:"Code",value:"code"},{text:"Category",value:"category.name"},{text:"Price",value:"price"},{text:"Actions",value:"actions",align:"center"}],items:[]},rules:{required:function(t){return!!t||"Required."}},agentFormValid:!1,delete_id:null,is_edit:!1,edit_id:null}},methods:{view_products:function(t){for(var e in this.agent_products.items=this.products.filter(function(e){return e.product_status.agent_id===t}),this.agent_products.items)this.agent_products.items.hasOwnProperty(e)&&(this.agent_products.items[e].image_url="",this.agent_products.items[e].product_images.length>0&&(this.agent_products.items[e].image_url=this.agent_products.items[e].product_images[0].url));this.dialog.show_products=!0},view_product:function(t){this.$router.push("/products/"+t)},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_agent:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("agent/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_agents(),window.getApp.$emit("agent_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("agent_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_add:function(t){for(var e in this.dialog.show_add=!0,this.is_edit=!1,this.agent)this.agent.hasOwnProperty(e)&&(this.agent[e]="")},view_edit:function(t){this.dialog.show_add=!0,this.edit_id=t,this.is_edit=!0;var e=this.agents.items.filter(function(e){return e.id===t});for(var s in e[0])e[0].hasOwnProperty(s)&&"id"!==s&&"createdAt"!==s&&"updatedAt"!==s&&(this.agent[s]=e[0][s])},edit_agent:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().put("agent/"+t.edit_id,t.agent,s).then(function(e){t.dialog.show_add=!1,t.get_agents(),window.getApp.$emit("agent_EDIT_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("agent_EDIT_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_agents:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("agent",e).then(function(e){var s=e.data.agents;t.agents.items=s})},add_agent:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().post("agent",t.agent,s).then(function(e){t.dialog.show_add=!1,t.get_agents(),window.getApp.$emit("agent_ADDED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("agent_ADDED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},get_products:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product",e).then(function(e){t.products=e.data.products.filter(function(t){return"Sold"===t.product_status.status})})}},created:function(){this.get_agents(),this.get_products()}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},on:{click:t.view_add},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Agent")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"agentForm"},model:{value:t.agentFormValid,callback:function(e){t.agentFormValid=e},expression:"agentFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"perm_identity",label:"Name",hint:"Name",rules:[t.rules.required]},model:{value:t.agent.name,callback:function(e){t.$set(t.agent,"name",e)},expression:"agent.name"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"mail_outline",label:"Email",hint:"Email"},model:{value:t.agent.email,callback:function(e){t.$set(t.agent,"email",e)},expression:"agent.email"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-text-field",{attrs:{"prepend-icon":"phone",label:"Contact",hint:"Contact"},model:{value:t.agent.contact,callback:function(e){t.$set(t.agent,"contact",e)},expression:"agent.contact"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),t.is_edit?s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.agentFormValid},on:{click:function(e){t.edit_agent()}}},[t._v("EDIT")]):s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.agentFormValid},on:{click:function(e){t.add_agent()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.agents.agentHeaders,search:t.search,items:t.agents.items,"rows-per-page-items":[5,{text:"All",value:-1}],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.name))]),t._v(" "),s("td",[t._v(t._s(e.item.email))]),t._v(" "),s("td",[t._v(t._s(e.item.contact))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_products(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1),t._v(" "),s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_edit(e.item.id)}}},[s("v-icon",[t._v("create")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_products=!1}},model:{value:t.dialog.show_products,callback:function(e){t.$set(t.dialog,"show_products",e)},expression:"dialog.show_products"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Agent products")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.agent_products.headers,search:t.search,items:t.agent_products.items,"rows-per-page-items":[5],"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-center"},[s("v-avatar",{attrs:{size:"32"}},[s("img",{attrs:{src:e.item.image_url,alt:""}})])],1),t._v(" "),s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.category.name))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.price)))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_product(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1)],1)]}}])})],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_products=!1}}},[t._v("Close")])],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Agent")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the agent?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_agent()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},c=s("VU/8")(l,d,!1,null,null,null);e.default=c.exports},wtEF:function(t,e,s){"use strict";var a=s("7+uW"),i=s("NYxO"),r=s("424j");a.default.use(i.a),e.a=new i.a.Store({plugins:[Object(r.a)()],strict:!0,state:{token:null,isUserLogged:!1,user:[],page:null},mutations:{setToken:function(t,e){t.token=e,t.isUserLogged=null!=e},setUser:function(t,e){t.user=e},setPage:function(t,e){t.page=e}},getters:{getLogged:function(t){return t.isUserLogged}},actions:{setToken:function(t,e){(0,t.commit)("setToken",e)},setUser:function(t,e){(0,t.commit)("setUser",e)},setPage:function(t,e){(0,t.commit)("setPage",e)}}})},xJJN:function(t,e){},xi6k:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),r=s("exGp"),n=s.n(r),o=s("P9l9"),l=s("wtEF"),d=s("Y81h"),c=s.n(d),u={data:function(){return{search:"",categories:[],pagination:{page:1,sortBy:"Code",descending:!0},original_products:[],products:{headers:[{text:"Image",value:"image",align:"center"},{text:"Code",value:"code"},{text:"Category",value:"category.name"},{text:"Gold (gm)",value:"product_detail.gold_weight"},{text:"Gold Touch (K)",value:"product_detail.gold_touch"},{text:"Diamond (ct)",value:"product_detail.diamond_weight"},{text:"Price",value:"price"},{text:"Selling Price",value:"product_status.selling_price"},{text:"Status",value:"product_status.status"},{text:"Actions",value:"actions",align:"center"}],items:[]},gold_touches:[{text:"12",value:12},{text:"14",value:14},{text:"18",value:18}],product_status:[{text:"All",value:0},{text:"On Hand",value:1},{text:"Sold",value:2}],product_status_filter:0,dialog:{show_add:!1,show_delete:!1},suppliers:[],shipments:[],product:{code:"",description:"",category_id:null,shipment_id:null,supplier_id:null,price:null},product_details:{gold_weight:null,diamond_weight:null},page_number:null,delete_id:null,productFormValid:!1,isAdmin:!1,imageName:"",imageUrl:"",product_image:"",is_adding:!1,rules:{required:function(t){return!!t||"Required."}}}},computed:{priceFormatted:{get:function(){return this.formatAsCurrency(this.product.price,0)},set:function(t){this.product.price=Number(t.replace(/[^0-9\.]/g,""))}}},watch:{product_status_filter:function(t){this.products.items=this.original_products,1===t?this.products.items=this.original_products.filter(function(t){return"On Hand"===t.product_status.status}):2===t&&(this.products.items=this.original_products.filter(function(t){return"Sold"===t.product_status.status}))}},mounted:function(){l.a.state.page&&(this.pagination.page=l.a.state.page,this.$store.dispatch("setPage",null))},methods:{formatAsCurrency:function(t,e){return e=e||0,null===t?0:t.toFixed(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,s=t.target.files;if(void 0!==s[0]){if(this.imageName=s[0].name,this.imageName.lastIndexOf(".")<=0)return;var a=new FileReader;a.readAsDataURL(s[0]),a.addEventListener("load",function(){e.imageUrl=a.result,e.product_image=s[0]})}else this.imageName="",this.product_image="",this.imageUrl=""},view_delete:function(t){this.delete_id=t,this.dialog.show_delete=!0},delete_product:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{Authorization:t.$store.state.token}},e.next=4,Object(o.a)().delete("product/"+t.delete_id,s).then(function(e){t.dialog.show_delete=!1,t.get_products(),window.getApp.$emit("PRODUCT_DELETED_SUCCESS")});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.dialog.show_delete=!1,window.getApp.$emit("PRODUCT_DELETED_FAIL");case 10:case"end":return e.stop()}},e,t,[[0,6]])}))()},view_product:function(t){this.$store.dispatch("setPage",this.pagination.page),this.$router.push("/products/"+t)},get_products:function(){var t=this;c.a.start();var e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("product",e).then(function(e){for(var s in 0===l.a.state.user.level?t.products.items=e.data.products:t.products.items=e.data.products.filter(function(t){return"Created"!==t.product_status.status}),t.products.items)t.products.items.hasOwnProperty(s)&&(t.products.items[s].image_url="",t.products.items[s].product_images.length>0&&(t.products.items[s].image_url=t.products.items[s].product_images[0].url));t.original_products=t.products.items,c.a.done(),t.is_adding=!1})},get_categories:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("category",e).then(function(e){e.data.categories.map(function(e){return t.categories.push({text:e.name,value:e.id}),!0})})},add_product:function(){var t=this;return n()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.a.start(),t.is_adding=!0,s={headers:{Authorization:t.$store.state.token}},t.isAdmin?t.product.status="Created":t.product.status="On Hand",e.next=7,Object(o.a)().post("product",t.product,s).then(function(e){t.add_product_details(e.data.product.id)});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.dialog.show_add=!1,window.getApp.$emit("PRODUCT_ADDED_FAIL");case 13:case"end":return e.stop()}},e,t,[[0,9]])}))()},add_product_details:function(t){var e=this;return n()(i.a.mark(function s(){var a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a={headers:{Authorization:e.$store.state.token}},s.next=4,Object(o.a)().put("product_details/"+t,e.product_details,a).then(function(s){e.add_product_image(t)});case 4:s.next=10;break;case 6:s.prev=6,s.t0=s.catch(0),e.dialog.show_add=!1,window.getApp.$emit("PRODUCT_ADDED_FAIL");case 10:case"end":return s.stop()}},s,e,[[0,6]])}))()},add_product_image:function(t){var e=this;return n()(i.a.mark(function s(){var a,r;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a={headers:{Authorization:e.$store.state.token,"Content-Type":"multipart/form-data"}},(r=new FormData).append("image",e.product_image),s.next=6,Object(o.a)().post("product/"+t+"/image",r,a).then(function(t){e.dialog.show_add=!1,e.get_products(),window.getApp.$emit("PRODUCT_ADDED_SUCCESS")});case 6:s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),e.dialog.show_add=!1,window.getApp.$emit("PRODUCT_ADDED_FAIL");case 12:case"end":return s.stop()}},s,e,[[0,8]])}))()},get_suppliers:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("supplier",e).then(function(e){e.data.suppliers.map(function(e){return t.suppliers.push({text:e.name,value:e.id}),!0})})},get_shipments:function(){var t=this,e={headers:{Authorization:this.$store.state.token}};Object(o.a)().get("shipment",e).then(function(e){e.data.shipments.map(function(e){return t.shipments.push({text:e.code,value:e.id}),!0})})}},created:function(){0===l.a.state.user.level?this.isAdmin=!0:this.isAdmin=!1,this.get_products(),this.get_categories(),this.get_suppliers(),this.get_shipments()}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"pageTable"}},[s("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[s("v-flex",{attrs:{lg2:""}},[s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_add=!1}},model:{value:t.dialog.show_add,callback:function(e){t.$set(t.dialog,"show_add",e)},expression:"dialog.show_add"}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[s("v-icon",[t._v("add")]),t._v("\n              add\n            ")],1),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("New Product")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-form",{attrs:{method:"post",action:"#",id:"prodcutForm"},model:{value:t.productFormValid,callback:function(e){t.productFormValid=e},expression:"productFormValid"}},[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{staticClass:"text-xs-center text-sm-center text-md-center text-lg-center",attrs:{xs12:"",md12:"",lg12:""}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,height:"150"}}):t._e(),t._v(" "),s("v-text-field",{attrs:{label:"Select Image","prepend-icon":"attach_file",rules:[t.rules.required]},on:{click:t.pickFile},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),t._v(" "),s("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{prefix:"#",label:"Product Code",hint:"*Code of the Product",rules:[t.rules.required],clearable:""},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:""}},[s("v-select",{attrs:{"prepend-icon":"local_offer",label:"Category",required:"",items:t.categories,rules:[t.rules.required]},model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:""}},[s("v-select",{attrs:{"prepend-icon":"layers",label:"Supplier",required:"",items:t.suppliers,rules:[t.rules.required]},model:{value:t.product.supplier_id,callback:function(e){t.$set(t.product,"supplier_id",e)},expression:"product.supplier_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs3:"",sm3:""}},[s("v-select",{attrs:{"prepend-icon":"local_shipping",label:"Shipment Code",required:"",items:t.shipments,rules:[t.rules.required]},model:{value:t.product.shipment_id,callback:function(e){t.$set(t.product,"shipment_id",e)},expression:"product.shipment_id"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-textarea",{attrs:{name:"description",label:"Description",hint:"*Description of the product",clearable:""},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{type:"number",label:"Gold",hint:"*Gold Weight",suffix:"gm",rules:[t.rules.required],clearable:""},model:{value:t.product_details.gold_weight,callback:function(e){t.$set(t.product_details,"gold_weight",e)},expression:"product_details.gold_weight"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[s("v-select",{attrs:{label:"Gold Touch",hint:"*Gold Touch",items:t.gold_touches,rules:[t.rules.required],suffix:"K"},model:{value:t.product_details.gold_touch,callback:function(e){t.$set(t.product_details,"gold_touch",e)},expression:"product_details.gold_touch"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[s("v-text-field",{attrs:{type:"number",label:"Diamond",hint:"Diamond Weight",suffix:"ct",clearable:""},model:{value:t.product_details.diamond_weight,callback:function(e){t.$set(t.product_details,"diamond_weight",e)},expression:"product_details.diamond_weight"}})],1),t._v(" "),s("v-flex",{attrs:{xs4:"",sm6:"",lg6:""}},[s("v-text-field",{attrs:{label:"SRP",hint:"*Selling Price",prefix:"₱",rules:[t.rules.required],clearable:""},model:{value:t.priceFormatted,callback:function(e){t.priceFormatted=e},expression:"priceFormatted"}})],1)],1)],1),t._v(" "),s("small",[t._v("*indicates required field")])],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:t.is_adding},on:{click:function(e){t.dialog.show_add=!1}}},[t._v("Close")]),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:"",disabled:!t.productFormValid||t.is_adding},on:{click:function(e){t.add_product()}}},[t._v("Add")])],1)],1)],1)],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs2:"",sm2:""}},[s("v-select",{attrs:{"prepend-icon":"filter_list",label:"Status",required:"",items:t.product_status},model:{value:t.product_status_filter,callback:function(e){t.product_status_filter=e},expression:"product_status_filter"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg12:""}},[s("v-card",[s("v-toolbar",{attrs:{card:"",color:"white"}},[s("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"search",placeholder:"Type something","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("filter_list")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",{staticClass:"pa-0"},[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.products.headers,search:t.search,pagination:t.pagination,items:t.products.items,"rows-per-page-items":[5],"item-key":"name","disable-page-reset":!0},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-xs-center"},[s("v-avatar",{attrs:{size:"32"}},[s("img",{attrs:{src:e.item.image_url,alt:""}})])],1),t._v(" "),s("td",[t._v(t._s(e.item.code))]),t._v(" "),s("td",[t._v(t._s(e.item.category.name))]),t._v(" "),s("td",[t._v(t._s(e.item.product_detail.gold_weight)+"mg")]),t._v(" "),s("td",[t._v(t._s(e.item.product_detail.gold_touch)+"K")]),t._v(" "),s("td",[t._v(t._s(e.item.product_detail.diamond_weight)+"ct")]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.price)))]),t._v(" "),s("td",[t._v(t._s(t._f("currency")(e.item.product_status.selling_price)))]),t._v(" "),s("td",[t._v(t._s(e.item.product_status.status))]),t._v(" "),s("td",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{depressed:"",outline:"",icon:"",fab:"",dark:"",color:"green",small:""},on:{click:function(s){t.view_product(e.item.id)}}},[s("v-icon",[t._v("remove_red_eye")])],1),t._v(" "),s("v-btn",{attrs:{slot:"activator",depressed:"",outline:"",icon:"",fab:"",dark:"",color:"pink",small:""},on:{click:function(s){t.view_delete(e.item.id)}},slot:"activator"},[s("v-icon",[t._v("delete")])],1)],1)]}}])})],1)],1),t._v(" "),s("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.dialog.show_delete=!1}},model:{value:t.dialog.show_delete,callback:function(e){t.$set(t.dialog,"show_delete",e)},expression:"dialog.show_delete"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete Product")])]),t._v(" "),s("v-divider"),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("p",[t._v("Are you sure you want to delete the product?")])]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("div",{staticClass:"v-dialog__container",staticStyle:{display:"inline-block"},attrs:{inset:"true"}},[s("div",{staticClass:"v-dialog__activator"},[s("button",{staticClass:"v-btn theme--dark red",attrs:{type:"button"},on:{click:function(e){t.delete_product()}}},[s("div",{staticClass:"v-btn__content"},[t._v("Delete")])])])])])],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog.show_delete=!1}}},[t._v("Close")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},v=s("VU/8")(u,p,!1,null,null,null);e.default=v.exports}},["NHnr"]);
//# sourceMappingURL=app.655651612176e9a61cb6.js.map